# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è CONSOLIDATED_PLAN.md - –†–µ–∑—é–º–µ

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ (–≠—Ç–∞–ø—ã 1-7 –ø–æ–ª—É–≥—É –≥–æ—Ç–æ–≤—ã)

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚úÖ
- **index.html** - –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å 3D canvas
- **style.css** - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω (grid, flexbox, responsive)
- **js/main.js** - –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–æ–π
- **js/viewer.js** - Three.js –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞–º–µ—Ä–æ–π
- **js/ifcBridge.js** - –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –º–µ–∂–¥—É JS –∏ Python (Pyodide)
- **js/pythonLoader.js** - –ó–∞–≥—Ä—É–∑–∫–∞ Python –º–æ–¥—É–ª–µ–π –≤ Pyodide
- **js/init.js** - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ Pyodide

### Python –º–æ–¥—É–ª–∏ ‚úÖ
1. **main.py** - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è IFC4 ADD2 TC1 –¥–æ–∫—É–º–µ–Ω—Ç–∞
   - –°–æ–∑–¥–∞–Ω–∏–µ Project/Site/Building/Storey —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ Pyodide
   - GUID –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

2. **gost_data.py** - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –ì–û–°–¢ 24379.1-2012
   - –í—Å–µ 4 —Ç–∏–ø–∞ –±–æ–ª—Ç–æ–≤ (1.1, 1.2, 2.1, 5)
   - 14 –¥–∏–∞–º–µ—Ç—Ä–æ–≤ (–ú12-–ú100)
   - –ü–æ–ª–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª–∏–Ω –ø–æ —Ç–∏–ø–∞–º –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è–º
   - 3 –º–∞—Ç–µ—Ä–∏–∞–ª–∞ —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

3. **geometry_builder.py** - –ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–∏—Ç–∏–≤—ã
   - –°–æ–∑–¥–∞–Ω–∏–µ –ª–∏–Ω–∏–π –∏ –¥—É–≥
   - –ü—Ä–æ—Ñ–∏–ª–∏ –¥–ª—è –≥–∞–µ–∫/—à–∞–π–±
   - –í—ã–¥–∞–≤–ª–∏–≤–∞–Ω–∏–µ –∏ —Ä–µ–≤–æ–ª—é—Ü–∏—è
   - SweptDiskSolid –¥–ª—è —à–ø–∏–ª–µ–∫

4. **type_factory.py** - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤
   - –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ (type, diameter, length, exec, material)
   - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–ø–æ–≤: Stud, Nut, Washer, Assembly
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ IFC —Ñ–∞–π–ª–∞

5. **instance_factory.py** - –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ –∏ —Å–±–æ—Ä–æ–∫
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø–æ–∑–∏—Ü–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–π (RelDefinesByType, RelAggregates, RelConnectsElements)
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è mesh-–¥–∞–Ω–Ω—ã—Ö –¥–ª—è 3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
   - –£–ø—Ä–æ—â—ë–Ω–Ω—ã–µ mesh –ø—Ä–∏–º–∏—Ç–∏–≤—ã (—Ü–∏–ª–∏–Ω–¥—Ä—ã, –∫–æ–ª—å—Ü–∞, –≥–µ–∫—Å–∞–≥–æ–Ω—ã)

6. **material_manager.py** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏
   - –°–æ–∑–¥–∞–Ω–∏–µ IfcMaterial —Å –ì–û–°–¢ –æ–ø–∏—Å–∞–Ω–∏—è–º–∏
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
   - –ü—Ä–∏–≤—è–∑–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∫ –æ–±—ä–µ–∫—Ç–∞–º

7. **pset_manager.py** - Property Sets
   - Pset_MechanicalFastenerCommon
   - Pset_ElementComponentCommon
   - Pset_ManufacturerTypeInformation

8. **ifc_generator.py** - –≠–∫—Å–ø–æ—Ä—Ç IFC
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ SPF —Ñ–æ—Ä–º–∞—Ç
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úÖ
- **README.md** - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (100+ —Å—Ç—Ä–æ–∫)
  - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
  - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (JS –∏ Python)
  - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

## üìê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤
```
Key: ('stud', '1.1', 1, 20, 800, '09–ì2–°')
‚Üí –û–¥–∏–Ω —Ä–∞–∑ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ç–∏–ø –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
‚Üí –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç IFC —Ñ–∞–π–ª –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
```

### –î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
1. **–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ** (one-time):
   - Pyodide runtime (~80 –ú–ë)
   - IFC –±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤

2. **–ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏** (per-request):
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
   - –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤
   - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ 3D –∏ IFC

### IFC –∏–µ—Ä–∞—Ä—Ö–∏—è
```
IfcProject
‚îî‚îÄ‚îÄ IfcSite
    ‚îî‚îÄ‚îÄ IfcBuilding
        ‚îî‚îÄ‚îÄ IfcBuildingStorey
            ‚îî‚îÄ‚îÄ IfcMechanicalFastener (Assembly)
                ‚îú‚îÄ‚îÄ IfcMechanicalFastener (Stud)
                ‚îú‚îÄ‚îÄ IfcMechanicalFastener (Nut #1, –æ–ø—Ü.)
                ‚îú‚îÄ‚îÄ IfcMechanicalFastener (Washer #1, –æ–ø—Ü.)
                ‚îú‚îÄ‚îÄ IfcMechanicalFastener (Nut #2, –æ–ø—Ü.)
                ‚îî‚îÄ‚îÄ IfcMechanicalFastener (Washer #2, –æ–ø—Ü.)
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§–∞–π–ª–æ–≤ | –°—Ç—Ä–æ–∫ | –°—Ç–∞—Ç—É—Å |
|-----------|--------|-------|--------|
| Frontend (HTML/CSS/JS) | 6 | ~1,800 | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| Python –º–æ–¥—É–ª–∏ | 8 | ~2,600 | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| –ö–æ–Ω—Ñ–∏–≥–∏ | 1 | 2 | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | 2 | ~400 | ‚úÖ –ì–æ—Ç–æ–≤–æ |
| **–ò—Ç–æ–≥–æ** | **17** | **~4,800** | **‚úÖ** |

## üéØ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### –¢–∏–ø—ã –±–æ–ª—Ç–æ–≤
- **1.1** - –ü–µ—Ä–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –∏–∑–æ–≥–Ω—É—Ç—ã–π (–∏—Å–ø. 1-2)
- **1.2** - –ü–µ—Ä–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –∏–∑–æ–≥–Ω—É—Ç—ã–π (–∏—Å–ø. 1-2)
- **2.1** - –í—Ç–æ—Ä–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –ø—Ä—è–º–æ–π (–∏—Å–ø. 1)
- **5** - –§—É—Ç–æ—Ä–∫–∞ (–∏—Å–ø. 1)

### –î–∏–∞–º–µ—Ç—Ä—ã
–ú12, –ú16, –ú20, –ú24, –ú30, –ú36, –ú42, –ú48, –ú56, –ú64, –ú72, –ú80, –ú90, –ú100 (14 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)

### –ú–∞—Ç–µ—Ä–∏–∞–ª—ã
- 09–ì2–° (œÉ_–≤ = 490 –ú–ü–∞)
- –í–°—Ç3–ø—Å2 (œÉ_–≤ = 345 –ú–ü–∞)
- 10–ì2 (œÉ_–≤ = 490 –ú–ü–∞)

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ)
- –ù–∏–∂–Ω—è—è –≥–∞–π–∫–∞
- –í–µ—Ä—Ö–Ω—è—è –≥–∞–π–∫–∞
- –®–∞–π–±—ã –ø–æ–¥ –≥–∞–π–∫–∏

## üöÄ –ö–∞–∫ –Ω–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
python3 -m http.server 8000

# 2. –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# http://localhost:8000

# 3. –í—ã–±—Ä–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –±–æ–ª—Ç—ã!
```

## üí° –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ì–û–°–¢** - –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø—Ä–æ—Ç–∏–≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤
2. **–£–º–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Ç–∏–ø—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
3. **3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Å Three.js
4. **IFC —ç–∫—Å–ø–æ—Ä—Ç** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è BIM —Å–∏—Å—Ç–µ–º
5. **–ë—Ä–∞—É–∑–µ—Ä–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** - –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏
6. **–ì–æ—Ä—è—á–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è—é—Ç –≤–∏–¥

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–≠—Ç–∞–ø—ã 8-11)

- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ifcBridge.js —Å instance_factory
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ IfcOpenShell –≤ Pyodide
- ‚è≥ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚è≥ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
- ‚è≥ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
- ‚è≥ –í–∞–ª–∏–¥–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö IFC —Ñ–∞–π–ª–æ–≤

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –°–ª–æ–π | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è |
|------|-----------|--------|
| Frontend | HTML5 + CSS3 + Vanilla JS | Latest |
| 3D | Three.js | r128 |
| Python Runtime | Pyodide | 0.23.4 |
| BIM | IfcOpenShell | 0.8.4 |
| IFC Standard | IFC4 ADD2 TC1 | 2020 |

## üìö –°–ø—Ä–∞–≤–æ—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

- –ì–û–°–¢ 24379.1-2012 - –ë–æ–ª—Ç—ã —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–Ω—ã–µ
- –ì–û–°–¢ 19281-2014 - –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –±–æ–ª—Ç–æ–≤
- IFC4 ADD2 TC1 - –°—Ç–∞–Ω–¥–∞—Ä—Ç BIM
- Three.js Documentation
- Pyodide Documentation

---

**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞: 90% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (–≠—Ç–∞–ø—ã 1-8 –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—ã, 9-11 –≤ –ø–ª–∞–Ω–∞—Ö)**

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å Claude Haiku 4.5
